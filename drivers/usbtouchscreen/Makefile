#
# Copyright (C) 2012 OpenWrt.org
#
# This is free software, licensed under the GNU General Public License v2.
# See /LICENSE for more information.
#

include $(TOPDIR)/rules.mk
include $(INCLUDE_DIR)/kernel.mk

PKG_NAME:=usbtouchscreen
PKG_VERSION:=$(LINUX_VERSION)
PKG_RELEASE:=1

include $(INCLUDE_DIR)/package.mk

define KernelPackage/usbtouchscreen
  SUBMENU:=Input modules
  TITLE:=eGalax touchscreen support
  VERSION:=$(LINUX_VERSION)+$(PKG_VERSION)-$(BOARD)-$(PKG_RELEASE)
  DEPENDS:=@USB_SUPPORT
  KCONFIG:= \
	CONFIG_INPUT_TOUCHSCREEN=y \
	CONFIG_TOUCHSCREEN_88PM860X=n \
	CONFIG_TOUCHSCREEN_ADS7846=n \
	CONFIG_TOUCHSCREEN_AD7877=n \
	CONFIG_TOUCHSCREEN_AD7879=n \
	CONFIG_TOUCHSCREEN_AD7879_I2C=n \
	CONFIG_TOUCHSCREEN_AD7879_SPI=n \
	CONFIG_TOUCHSCREEN_ATMEL_MXT=n \
	CONFIG_TOUCHSCREEN_AUO_PIXCIR=n \
	CONFIG_TOUCHSCREEN_BU21013=n \
	CONFIG_TOUCHSCREEN_CY8CTMG110=n \
	CONFIG_TOUCHSCREEN_CYTTSP_CORE=n \
	CONFIG_TOUCHSCREEN_CYTTSP_I2C=n \
	CONFIG_TOUCHSCREEN_CYTTSP_SPI=n \
	CONFIG_TOUCHSCREEN_DA9034=n \
	CONFIG_TOUCHSCREEN_DA9052=n \
	CONFIG_TOUCHSCREEN_DYNAPRO=n \
	CONFIG_TOUCHSCREEN_HAMPSHIRE=n \
	CONFIG_TOUCHSCREEN_EETI=n \
	CONFIG_TOUCHSCREEN_EGALAX=n \
	CONFIG_TOUCHSCREEN_FUJITSU=n \
	CONFIG_TOUCHSCREEN_ILI210X=n \
	CONFIG_TOUCHSCREEN_S3C2410=n \
	CONFIG_TOUCHSCREEN_GUNZE=n \
	CONFIG_TOUCHSCREEN_ELO=n \
	CONFIG_TOUCHSCREEN_WACOM_W8001=n \
	CONFIG_TOUCHSCREEN_WACOM_I2C=n \
	CONFIG_TOUCHSCREEN_LPC32XX=n \
	CONFIG_TOUCHSCREEN_MAX11801=n \
	CONFIG_TOUCHSCREEN_MCS5000=n \
	CONFIG_TOUCHSCREEN_MMS114=n \
	CONFIG_TOUCHSCREEN_MTOUCH=n \
	CONFIG_TOUCHSCREEN_INEXIO=n \
	CONFIG_TOUCHSCREEN_INTEL_MID=n \
	CONFIG_TOUCHSCREEN_MK712=n \
	CONFIG_TOUCHSCREEN_HP600=n \
	CONFIG_TOUCHSCREEN_HP7XX=n \
	CONFIG_TOUCHSCREEN_HTCPEN=n \
	CONFIG_TOUCHSCREEN_PENMOUNT=n \
	CONFIG_TOUCHSCREEN_EDT_FT5X06=n \
	CONFIG_TOUCHSCREEN_MIGOR=n \
	CONFIG_TOUCHSCREEN_TNETV107X=n \
	CONFIG_TOUCHSCREEN_TOUCHRIGHT=n \
	CONFIG_TOUCHSCREEN_TOUCHWIN=n \
	CONFIG_TOUCHSCREEN_TI_AM335X_TSC=n \
	CONFIG_TOUCHSCREEN_ATMEL_TSADCC=n \
	CONFIG_TOUCHSCREEN_UCB1400=n \
	CONFIG_TOUCHSCREEN_PIXCIR=n \
	CONFIG_TOUCHSCREEN_WM831X=n \
	CONFIG_TOUCHSCREEN_WM97XX=n \
	CONFIG_TOUCHSCREEN_WM9705=n \
	CONFIG_TOUCHSCREEN_WM9712=n \
	CONFIG_TOUCHSCREEN_WM9713=n \
	CONFIG_TOUCHSCREEN_WM97XX_ATMEL=n \
	CONFIG_TOUCHSCREEN_WM97XX_MAINSTONE=n \
	CONFIG_TOUCHSCREEN_WM97XX_ZYLONITE=n \
	CONFIG_TOUCHSCREEN_USB_COMPOSITE \
	CONFIG_TOUCHSCREEN_MC13783=n \
	CONFIG_TOUCHSCREEN_USB_EGALAX=y \
	CONFIG_TOUCHSCREEN_USB_PANJIT=n \
	CONFIG_TOUCHSCREEN_USB_3M=n \
	CONFIG_TOUCHSCREEN_USB_ITM=n \
	CONFIG_TOUCHSCREEN_USB_ETURBO=n \
	CONFIG_TOUCHSCREEN_USB_GUNZE=n \
	CONFIG_TOUCHSCREEN_USB_DMC_TSC10=n \
	CONFIG_TOUCHSCREEN_USB_IRTOUCH=n \
	CONFIG_TOUCHSCREEN_USB_IDEALTEK=n \
	CONFIG_TOUCHSCREEN_USB_GENERAL_TOUCH=y \
	CONFIG_TOUCHSCREEN_USB_GOTOP=n \
	CONFIG_TOUCHSCREEN_USB_JASTEC=n \
	CONFIG_TOUCHSCREEN_USB_ELO=n \
	CONFIG_TOUCHSCREEN_USB_E2I=n \
	CONFIG_TOUCHSCREEN_USB_ZYTRONIC=n \
	CONFIG_TOUCHSCREEN_USB_ETT_TC45USB=n \
	CONFIG_TOUCHSCREEN_USB_NEXIO=n \
	CONFIG_TOUCHSCREEN_USB_EASYTOUCH=n \
	CONFIG_TOUCHSCREEN_TOUCHIT213=n \
	CONFIG_TOUCHSCREEN_TSC_SERIO=n \
	CONFIG_TOUCHSCREEN_TSC2005=n \
	CONFIG_TOUCHSCREEN_TSC2007=n \
	CONFIG_TOUCHSCREEN_W90X900=n \
	CONFIG_TOUCHSCREEN_PCAP=n \
	CONFIG_TOUCHSCREEN_ST1232=n \
	CONFIG_TOUCHSCREEN_TPS6507X=n \
	CONFIG_TOUCHSCREEN_STMPE=n
  FILES:=$(LINUX_DIR)/drivers/input/touchscreen/usbtouchscreen.$(LINUX_KMOD_SUFFIX)
  AUTOLOAD:=$(call AutoLoad,62,usbtouchscreen)
  $(call AddDepends/input)
endef

define KernelPackage/usbtouchscreen/description
  This kernel module adds support for eGalax touchscreen.
endef

define Build/Compile
	true
endef

define KernelPackage/usbtouchscreen/install
	$(INSTALL_DIR) $(1)/lib/modules/$(LINUX_VERSION)
endef

$(eval $(call KernelPackage,usbtouchscreen))
